"use strict";(self.webpackChunkfactorez_dashboard=self.webpackChunkfactorez_dashboard||[]).push([[915],{4915:function(e,r,a){a.r(r);var t=a(7762),n=a(4165),s=a(5861),l=a(9439),d=a(2791),o=a(9434),c=a(4262),i=a(4873),u=(a(3858),a(548)),p=a(7689),h=a(184);r.default=function(e){e.productBrandDDindexReducer;var r=e.userInfoReducer,a=e.tokenReducer,b=(0,d.useState)([]),x=(0,l.Z)(b,2),f=x[0],m=x[1],g=(0,d.useState)([]),j=(0,l.Z)(g,2),v=j[0],k=j[1],N=(0,o.I0)(),y=(0,p.s0)(),w=(0,d.useState)(""),S=(0,l.Z)(w,2),Z=S[0],_=S[1],C=(0,d.useState)({flag:!1,_id:""}),B=(0,l.Z)(C,2),L=B[0],T=B[1],R=(0,d.useState)({url:"",file:null}),F=(0,l.Z)(R,2),I=F[0],A=F[1],D=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N((0,c.Q5)()),"Seller"!==r.userType){e.next=6;break}return e.next=4,(0,i.Ty)(r.vendorId,a).then((function(e){console.log(e.data),m(e.data.data),k(e.data.data)})).catch((function(e){e.response&&401===e.response.status&&y("/seller/login"),console.log(e)}));case 4:e.next=8;break;case 6:return e.next=8,(0,i.vu)(a).then((function(e){console.log(e.data),m(e.data.data),k(e.data.data)})).catch((function(e){e.response&&401===e.response.status&&y("/seller/login"),console.log(e)}));case 8:N((0,c.tV)());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=new FormData).append("brand_name",Z),t.append("vendor_id",r.vendorId),""===Z){e.next=9;break}return N((0,c.Q5)()),t.append("brandLogo",I.file?I.file:I.url),e.next=8,(0,i.bB)(t,a).then((function(e){console.log(e.data),N((0,c.Bc)(null)),T({flag:!1,_id:""}),_(""),D(),alert("Brand Added Successfully")})).catch((function(e){e.response&&401===e.response.status&&y("/seller/login"),console.log(e),alert("Some error occure!")}));case 8:N((0,c.tV)());case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure! to change the Status")){e.next=3;break}return e.next=3,(0,i.F6)(r,{brandStatus:t},a).then((function(e){console.log(e.data),D()})).catch((function(e){e.response&&401===e.response.status&&y("/seller/login"),console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(r,a){return e.apply(this,arguments)}}(),P=function(){return v.map((function(e,a){return(0,h.jsxs)("tr",{className:"border-b dark:border-neutral-500",children:[(0,h.jsx)("td",{className:"whitespace-nowrap border-r px-2 py-2 dark:border-neutral-500",children:(0,h.jsx)("img",{src:e.brandLogo,alt:"",height:80,width:80})}),(0,h.jsx)("td",{className:"whitespace-nowrap border-r px-6 py-2 dark:border-neutral-500",children:e.brand_name}),e.vendor_id.firmName&&(0,h.jsx)("td",{className:"whitespace-nowrap border-r px-6 py-2 dark:border-neutral-500",children:e.vendor_id.firmName}),(0,h.jsx)("td",{className:"whitespace-nowrap border-r px-6 py-2 dark:border-neutral-500",children:r.userType&&"Seller"===r.userType?(0,h.jsx)(h.Fragment,{children:e.brandStatus}):(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("select",{name:"brandApprove",value:e.brandStatus,className:"p-1 border outline-none",onChange:function(r){return E(e._id,r.target.value)},children:[(0,h.jsx)("option",{value:"Pending",children:"Pending"}),(0,h.jsx)("option",{value:"Approved",children:"Approved"}),(0,h.jsx)("option",{value:"Rejected",children:"Rejected"})]})})})]},e._id)}))};return(0,d.useEffect)((function(){D(),N((0,c.Bc)(null)),T({flag:!1,_id:""}),_("")}),[]),(0,h.jsx)("div",{className:" bg-gray-50 dark:bg-gray-800",children:r.userType&&"Seller"===r.userType?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"border-b pb-5",children:(0,h.jsxs)("table",{className:"min-w-full mb-5 bg-white dark:bg-gray-800 border text-start text-sm font-light dark:border-neutral-500",children:[(0,h.jsx)("thead",{className:"border-b font-medium dark:border-neutral-500",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"border-r px-2 py-3 dark:border-neutral-500 text-start",children:"Logo"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 border-r dark:border-neutral-500 text-start",children:"Brand Name"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 border-r dark:border-neutral-500 text-start",children:"Status"})]})}),(0,h.jsx)("tbody",{children:f.length>0&&P()})]})}),(0,h.jsx)("div",{className:"flex w-[80%]",children:(0,h.jsx)("div",{className:"flex-1 border-s ps-10",children:(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsxs)("h1",{className:"text-gray-700 font-bold text-base dark:text-white mb-2",children:["Brand title ",L.flag&&(0,h.jsx)("span",{className:"bg-teal-500 text-white px-2",children:"Edit Mode"})]}),(0,h.jsx)("input",{type:"text",className:"outline-none border p-2 w-full dark:bg-[#424242] dark:border-0",value:Z,disabled:L.flag?"disabled":"",placeholder:"Brand Title",onChange:function(e){return _(e.target.value)}}),(0,h.jsx)("h1",{className:"text-gray-700 font-bold text-base dark:text-white mt-4",children:"Logo"}),(0,h.jsxs)("div",{className:"",children:[(0,h.jsx)("input",{type:"file",className:"outline-none border w-full dark:bg-[#424242] dark:border-0",placeholder:"Brand Title",disabled:L.flag?"disabled":"",onChange:function(e){return A({file:e.target.files[0],url:""})}}),(0,h.jsxs)("div",{className:"flex justify-center items-center",children:[(0,h.jsx)("div",{className:"w-full border-2 me-1"}),(0,h.jsx)("span",{children:"OR"}),(0,h.jsx)("div",{className:"w-full border-2 ms-1"})]}),(0,h.jsx)("input",{type:"text",disabled:L.flag?"disabled":"",className:"outline-none border w-full dark:bg-[#424242] dark:border-0 p-2",value:I.url&&I.url,placeholder:"Image URL",onChange:function(e){return A({file:null,url:e.target.value})}})]}),(0,h.jsxs)("div",{className:"mt-2",children:[(0,h.jsx)("button",{className:"bg-[#abd60e] rounded-md me-1 font-semibold px-3 py-2",onClick:function(){return z()},children:"Upload"}),(0,h.jsx)("button",{className:"bg-[#ed0d0d] rounded-md ms-1 font-semibold px-3 py-2",onClick:function(){return T({flag:!1,_id:""}),void _("")},children:"Cancel"})]})]})})})]}):(0,h.jsxs)("div",{className:"inline-block min-w-full py-2",children:[(0,h.jsx)("div",{className:"max-w-[400px] mb-2",children:(0,h.jsx)(u.I,{placeholder:"Search brand",onChange:function(e){return function(e){var r,a=[],n=(0,t.Z)(f);try{for(n.s();!(r=n.n()).done;){var s=r.value;s.brand_name.toLowerCase().includes(e.toLowerCase())&&a.push(s)}}catch(l){n.e(l)}finally{n.f()}k((function(e){return a}))}(e.target.value)}})}),(0,h.jsx)("div",{className:"",children:(0,h.jsxs)("table",{className:"min-w-full bg-white dark:bg-gray-800 border text-start text-sm font-light dark:border-neutral-500",children:[(0,h.jsx)("thead",{className:"border-b font-medium dark:border-neutral-500",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"border-r px-2 py-3 dark:border-neutral-500 text-start",children:"Logo"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 border-r dark:border-neutral-500 text-start",children:"Brand Name"}),(0,h.jsx)("th",{scope:"col",className:"border-r px-6 py-3 dark:border-neutral-500 text-start",children:"Firm name"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 border-r dark:border-neutral-500 text-start",children:"Status"})]})}),(0,h.jsx)("tbody",{children:f.length>0&&P()})]})})]})})}}}]);
//# sourceMappingURL=915.e50be6c6.chunk.js.map