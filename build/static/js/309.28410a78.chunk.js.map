{"version":3,"file":"static/js/309.28410a78.chunk.js","mappings":"iOA0QA,UArPiB,SAAHA,GAAoE,IAA/DC,EAAyBD,EAAzBC,0BAA2BC,EAA6BF,EAA7BE,8BAC3CC,GAA8BC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GACpBI,GAAWC,EAAAA,EAAAA,MACjBC,GAAgCP,EAAAA,EAAAA,UAAS,IAAGQ,GAAAN,EAAAA,EAAAA,GAAAK,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAC5BG,GAAgCX,EAAAA,EAAAA,UAAS,CAAEY,MAAM,EAAOC,IAAK,KAAKC,GAAAZ,EAAAA,EAAAA,GAAAS,EAAA,GAA3DI,EAASD,EAAA,GAAEE,EAAUF,EAAA,GAC5BG,GAA4BjB,EAAAA,EAAAA,UAAS,IAAGkB,GAAAhB,EAAAA,EAAAA,GAAAe,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAwBlBG,EAAc,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,OAAAF,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEW,OAD/BC,QAAQC,IAAI,0BACZ3B,GAAS4B,EAAAA,EAAAA,OAAsBL,EAAAE,KAAA,GACzBI,EAAAA,EAAAA,MACFC,MAAK,SAACC,GACJL,QAAQC,IAAII,EAAIC,MAChBjC,EAAWgC,EAAIC,KAAKA,KACvB,IACCC,OAAM,SAACC,GACLR,QAAQC,IAAIO,EACf,IAAG,KAAD,EACLlC,GAASmC,EAAAA,EAAAA,OAAuB,wBAAAZ,EAAAa,OAAA,GAAAf,EAAA,KAClC,kBAZmB,OAAAJ,EAAAoB,MAAA,KAAAC,UAAA,KAcdC,EAAc,eAAAC,GAAAtB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAqB,IAAA,IAAAT,EAAA,OAAAb,EAAAA,EAAAA,KAAAG,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,OAKlB,GAJFC,QAAQC,IAAInC,GACRwC,EAAO,CACRW,cAAevC,EACfwC,YAAapD,IAEZkB,EAAUH,KAAK,CAADmC,EAAAjB,KAAA,YACE,KAAbrB,GAAwD,IAArCZ,EAA0BqD,OAAY,CAAAH,EAAAjB,KAAA,QAC3B,OAA/BzB,GAAS4B,EAAAA,EAAAA,OAAsBc,EAAAjB,KAAA,GACzBqB,EAAAA,EAAAA,IAAkBpC,EAAUF,IAAKwB,GACnCF,MAAK,SAACC,GACJL,QAAQC,IAAII,EAAIC,MAChBhC,GAAS+C,EAAAA,EAAAA,IAAuB,OAChCpC,EAAW,CAAEJ,MAAM,EAAOC,IAAK,KAC/BH,EAAY,IACZL,GAASgD,EAAAA,EAAAA,OACTC,MAAM,iCACNjC,GACH,IACCiB,OAAM,SAACC,GACLR,QAAQC,IAAIO,GACZe,MAAM,qBACT,IAAG,KAAD,EACLjD,GAASmC,EAAAA,EAAAA,OAAuB,OAAAO,EAAAjB,KAAA,oBAGlB,KAAbrB,GAAwD,IAArCZ,EAA0BqD,OAAY,CAAAH,EAAAjB,KAAA,SAC3B,OAA/BzB,GAAS4B,EAAAA,EAAAA,OAAsBc,EAAAjB,KAAA,IACzByB,EAAAA,EAAAA,IAAelB,GACjBF,MAAK,SAACC,GACJL,QAAQC,IAAII,EAAIC,MAChBhC,GAAS+C,EAAAA,EAAAA,IAAuB,OAChCpC,EAAW,CAAEJ,MAAM,EAAOC,IAAK,KAC/BH,EAAY,IACZL,GAASgD,EAAAA,EAAAA,OACTC,MAAM,+BACNjC,GACH,IACCiB,OAAM,SAACC,GACLR,QAAQC,IAAIO,GACZe,MAAM,qBACT,IAAG,KAAD,GACLjD,GAASmC,EAAAA,EAAAA,OAAuB,yBAAAO,EAAAN,OAAA,GAAAK,EAAA,KAGxC,kBA7CmB,OAAAD,EAAAH,MAAA,KAAAC,UAAA,KAyEpB,OAVAa,EAAAA,EAAAA,YAAU,WACPnC,IACAhB,GAAS+C,EAAAA,EAAAA,IAAuB,OAChCpC,EAAW,CAAEJ,MAAM,EAAOC,IAAK,KAC/BH,EAAY,IACZL,GAASgD,EAAAA,EAAAA,MACZ,GAAG,KAKAI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2CAA0CC,SAAA,EACtDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uBAAsBC,SAAA,EAClCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,oDAAmDC,SAAC,cAClEC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,oBAAmBC,UAC/BF,EAAAA,EAAAA,MAAA,UACGI,KAAK,GACLC,GAAG,GACHJ,UAAU,2DACVK,SAAU,SAACC,GAAC,OApCGC,EAoCuBD,EAAEE,OAAOC,mBAlCxD9D,EADC4D,EAAM,GACEb,EAAAA,EAAAA,IAAuBa,EAAM,IAE7Bb,EAAAA,EAAAA,IAAuB,OAJT,IAACa,CAoC8C,EAACN,SAAA,EAE9DC,EAAAA,EAAAA,KAAA,UAAQQ,MAAM,GAAET,SAAC,oBAChBxD,EAAQkE,KAAI,SAACC,EAAIC,GAAC,OAChBX,EAAAA,EAAAA,KAAA,UAA0BQ,MAAOE,EAAGtB,cAAcW,SAC9CW,EAAGtB,eAAa,GAAAwB,OADJF,EAAGzD,KAEV,UAIlB4C,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0DAAyDC,SAAA,CAAC,eACxD,IACsB,OAAlC7D,IACE8D,EAAAA,EAAAA,KAAA,UACGF,UAAU,yEACVe,QAAS,kBA3HL5D,EA4HYV,EAAQL,GAA+Be,SA3HhC,OAAlCf,IACDkB,EAAW,CAAEJ,MAAM,EAAMC,IAAKA,IAC9BH,EAAYP,EAAQL,GAA+BkD,eACnD3C,GACGqE,EAAAA,EAAAA,IACGvE,EAAQL,GAA+B6E,iBAN9B,IAAC9D,CA4HuD,EAC1D8C,SACH,YAK4B,OAAlC7D,IACE8D,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4CAA2CC,SACrDxD,EAAQ+C,OAAS,GACf/C,EAAQL,GAA+B6E,aAAaN,KACjD,SAACC,EAAIC,GAAC,OACHX,EAAAA,EAAAA,KAAA,MAEGF,UAAU,0FAAyFC,UAEnGC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SACnCW,EAAGM,oBACA,GAAAJ,OALCF,EAAGzD,KAMT,UAMvB+C,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAuBC,UACnCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACpBF,EAAAA,EAAAA,MAAA,MAAIC,UAAU,yDAAwDC,SAAA,CAAC,iBACrD,IACd5C,EAAUH,OACRgD,EAAAA,EAAAA,KAAA,QAAMF,UAAU,8BAA6BC,SAAC,kBAKpDC,EAAAA,EAAAA,KAAA,SACGiB,KAAK,OACLnB,UAAU,iEACVU,MAAO3D,EACPqE,YAAY,iBACZf,SAAU,SAACC,GAAC,OAAKtD,EAAYsD,EAAEE,OAAOE,MAAM,KAG/CR,EAAAA,EAAAA,KAAA,MAAIF,UAAU,sCACdE,EAAAA,EAAAA,KAAA,MAAIF,UAAU,yDAAwDC,SAAC,iBAGvEF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,SACGiB,KAAK,OACLnB,UAAU,iEACVU,MAAOjD,EACP2D,YAAY,mBACZf,SAAU,SAACC,GAAC,OAAK5C,EAAU4C,EAAEE,OAAOE,MAAM,KAE7CR,EAAAA,EAAAA,KAAA,UACGF,UAAU,oGACVe,QAAS,WA9LP,KAAbhE,GAA8B,KAAXU,GACpBd,GAAS0E,EAAAA,EAAAA,IAA4B,CAAEH,iBAAkBzD,KACzDC,EAAU,KAEVkC,MAAM,gDA0LqC,EAACK,SAClC,YAIJC,EAAAA,EAAAA,KAAA,OAAAD,SACI9D,EAA0BqD,OAAS,IACjCU,EAAAA,EAAAA,KAAA,MAAIF,UAAU,4CAA2CC,SACrD9D,EAA0BwE,KAAI,SAACC,EAAIC,GAAC,OAClCd,EAAAA,EAAAA,MAAA,MAEGC,UAAU,0GAAyGC,SAAA,EAEnHC,EAAAA,EAAAA,KAAA,QAAMF,UAAU,wBAAuBC,SACnCW,EAAGM,oBAEPhB,EAAAA,EAAAA,KAACoB,EAAAA,IAAe,CACbC,KAAM,GACNC,MAAM,MACNxB,UAAU,iBACVe,QAAS,kBAnHjBU,EAmHoCZ,OAlHvDlE,GAAS+E,EAAAA,EAAAA,IAA+BD,IADtB,IAACA,CAmHsC,MAC/B,GAAAX,OAXMD,EAAC,cAYP,SAKjBd,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,EAClBC,EAAAA,EAAAA,KAAA,UACGF,UAAU,uDACVe,QAAS,kBAAM7B,GAAgB,EAACe,SAClC,YAGDC,EAAAA,EAAAA,KAAA,UACGF,UAAU,uDACVe,QAAS,kBAxIxBzD,EAAW,CAAEJ,MAAM,EAAOC,IAAK,KAC/BH,EAAY,SACZL,GAASgD,EAAAA,EAAAA,MAsIoC,EAACM,SACjC,qBAQnB,C","sources":["component/pages_admin/Layout/products/Category.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { CgArrowsExchange } from \"react-icons/cg\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n   productCategoryDDindex,\r\n   productCategoryNewSubCatAdd,\r\n   productCategoryNewSubCatClear,\r\n   productCategoryNewSubCatClearAllAddArr,\r\n   productCategoryNewSubCatRemove,\r\n   spinnerOverlayOffFn,\r\n   spinnerOverlayOnFn,\r\n} from \"../../../../Redux/ReducerAction\";\r\nimport { MdDeleteForever } from \"react-icons/md\";\r\nimport { useEffect } from \"react\";\r\nimport {\r\n   AddCategoryApi,\r\n   getAllCategoryApi,\r\n   updateCategoryApi,\r\n} from \"../../../../apis/adminApis\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\n\r\nconst Category = ({productCategoryNewReducer, productCategoryDDindexReducer}) => {\r\n   const [catData, setCatData] = useState([]);\r\n   const dispatch = useDispatch();\r\n   const [catTitle, setCatTitle] = useState(\"\");\r\n   const [isEditing, setEditing] = useState({ flag: false, _id: \"\" });\r\n   const [subCat, setSubCat] = useState(\"\");\r\n\r\n   const addSubcategory = () => {\r\n      if (catTitle !== \"\" && subCat !== \"\") {\r\n         dispatch(productCategoryNewSubCatAdd({ subcategory_name: subCat }));\r\n         setSubCat(\"\");\r\n      } else {\r\n         alert(\"Category Title and subcategory are required..\");\r\n      }\r\n   };\r\n\r\n   const newSubCategoryHandler = () => {};\r\n   const editCategory = (_id) => {\r\n      if (productCategoryDDindexReducer !== null) {\r\n         setEditing({ flag: true, _id: _id });\r\n         setCatTitle(catData[productCategoryDDindexReducer].category_name);\r\n         dispatch(\r\n            productCategoryNewSubCatClearAllAddArr(\r\n               catData[productCategoryDDindexReducer].sub_category\r\n            )\r\n         );\r\n      }\r\n   };\r\n\r\n   const getAllCategory = async () => {\r\n      console.log(\"get all category fired\");\r\n      dispatch(spinnerOverlayOnFn());\r\n      await getAllCategoryApi()\r\n         .then((res) => {\r\n            console.log(res.data);\r\n            setCatData(res.data.data);\r\n         })\r\n         .catch((err) => {\r\n            console.log(err);\r\n         });\r\n      dispatch(spinnerOverlayOffFn());\r\n   };\r\n\r\n   const uploadCategory = async () => {\r\n      console.log(productCategoryNewReducer);\r\n      let data = {\r\n         category_name: catTitle,\r\n         subCategory: productCategoryNewReducer,\r\n      };\r\n      if (isEditing.flag) {\r\n         if (catTitle !== \"\" && productCategoryNewReducer.length !== 0) {\r\n            dispatch(spinnerOverlayOnFn());\r\n            await updateCategoryApi(isEditing._id, data)\r\n               .then((res) => {\r\n                  console.log(res.data);\r\n                  dispatch(productCategoryDDindex(null));\r\n                  setEditing({ flag: false, _id: \"\" });\r\n                  setCatTitle(\"\");\r\n                  dispatch(productCategoryNewSubCatClear());\r\n                  alert(\"Category Updated Successfully\");\r\n                  getAllCategory();\r\n               })\r\n               .catch((err) => {\r\n                  console.log(err);\r\n                  alert(\"Some error occure!\");\r\n               });\r\n            dispatch(spinnerOverlayOffFn());\r\n         }\r\n      } else {\r\n         if (catTitle !== \"\" && productCategoryNewReducer.length !== 0) {\r\n            dispatch(spinnerOverlayOnFn());\r\n            await AddCategoryApi(data)\r\n               .then((res) => {\r\n                  console.log(res.data);\r\n                  dispatch(productCategoryDDindex(null));\r\n                  setEditing({ flag: false, _id: \"\" });\r\n                  setCatTitle(\"\");\r\n                  dispatch(productCategoryNewSubCatClear());\r\n                  alert(\"Category Added Successfully\");\r\n                  getAllCategory();\r\n               })\r\n               .catch((err) => {\r\n                  console.log(err);\r\n                  alert(\"Some error occure!\");\r\n               });\r\n            dispatch(spinnerOverlayOffFn());\r\n         }\r\n      }\r\n   };\r\n   const handleChangeCategory = (idx) => {\r\n      if (idx > 0) {\r\n         dispatch(productCategoryDDindex(idx - 1));\r\n      } else {\r\n         dispatch(productCategoryDDindex(null));\r\n      }\r\n   };\r\n\r\n   const cancelHandler = () => {\r\n      setEditing({ flag: false, _id: \"\" });\r\n      setCatTitle(\"\");\r\n      dispatch(productCategoryNewSubCatClear());\r\n   };\r\n\r\n   const removeSubCat = (index) => {\r\n      dispatch(productCategoryNewSubCatRemove(index));\r\n   };\r\n   useEffect(() => {\r\n      getAllCategory();\r\n      dispatch(productCategoryDDindex(null));\r\n      setEditing({ flag: false, _id: \"\" });\r\n      setCatTitle(\"\");\r\n      dispatch(productCategoryNewSubCatClear());\r\n   }, []);\r\n\r\n   // console.log(process.env.REACT_APP_API_ADDRESS);\r\n\r\n   return (\r\n      <div className=\"flex w-[80%] bg-gray-50 dark:bg-gray-800\">\r\n         <div className=\"flex-1 me-24 w-[50%]\">\r\n            <h1 className=\"text-gray-700 dark:text-white font-bold text-base\">Category</h1>\r\n            <div className=\"flex items-center\">\r\n               <select\r\n                  name=\"\"\r\n                  id=\"\"\r\n                  className=\"outline-none border p-2 w-full bg-white dark:bg-teal-800\"\r\n                  onChange={(e) => handleChangeCategory(e.target.selectedIndex)}\r\n               >\r\n                  <option value=\"\">Select Category</option>\r\n                  {catData.map((el, i) => (\r\n                     <option key={`${el._id}`} value={el.category_name}>\r\n                        {el.category_name}\r\n                     </option>\r\n                  ))}\r\n               </select>\r\n            </div>\r\n            <h1 className=\"text-gray-700 font-bold text-base mt-10 dark:text-white\">\r\n               Sub Category{\" \"}\r\n               {productCategoryDDindexReducer !== null && (\r\n                  <button\r\n                     className=\"bg-black dark:bg-[#abd60e]  rounded text-lg font-bold text-white px-2 \"\r\n                     onClick={() =>\r\n                        editCategory(catData[productCategoryDDindexReducer]._id)\r\n                     }\r\n                  >\r\n                     Edit\r\n                  </button>\r\n               )}\r\n            </h1>\r\n            {productCategoryDDindexReducer !== null && (\r\n               <ul className=\"bg-white dark:bg-gray-800 border mt-1 p-2\">\r\n                  {catData.length > 0 &&\r\n                     catData[productCategoryDDindexReducer].sub_category.map(\r\n                        (el, i) => (\r\n                           <li\r\n                              key={`${el._id}`}\r\n                              className=\"py-1 border-b last:border-b-0 hover:bg-teal-50 dark:hover:bg-teal-700 flex items-center\"\r\n                           >\r\n                              <span className=\"text-lg font-semibold\">\r\n                                 {el.subcategory_name}\r\n                              </span>\r\n                           </li>\r\n                        )\r\n                     )}\r\n               </ul>\r\n            )}\r\n         </div>\r\n         <div className=\"flex-1 border-s ps-10\">\r\n            <div className=\"w-full\">\r\n               <h1 className=\"text-gray-700 mb-2 font-bold text-base dark:text-white\">\r\n                  Category title{\" \"}\r\n                  {isEditing.flag && (\r\n                     <span className=\"bg-teal-500 text-white px-2\">\r\n                        Edit Mode\r\n                     </span>\r\n                  )}\r\n               </h1>\r\n               <input\r\n                  type=\"text\"\r\n                  className=\"outline-none border p-2 w-full dark:bg-[#424242] dark:border-0\"\r\n                  value={catTitle}\r\n                  placeholder=\"Category Title\"\r\n                  onChange={(e) => setCatTitle(e.target.value)}\r\n               />\r\n\r\n               <hr className=\"my-5 border-t-4 border-[#949494]\" />\r\n               <h1 className=\"text-gray-700 font-bold text-base dark:text-white mb-2\">\r\n                  Subcategory\r\n               </h1>\r\n               <div className=\"flex items-center\">\r\n                  <input\r\n                     type=\"text\"\r\n                     className=\"outline-none border p-2 w-full dark:bg-[#424242] dark:border-0\"\r\n                     value={subCat}\r\n                     placeholder=\"New Sub category\"\r\n                     onChange={(e) => setSubCat(e.target.value)}\r\n                  />\r\n                  <button\r\n                     className=\"border border-[#949494] p-2 bg-[#949494] dark:bg-[#5154ac] dark:border-0 text-white font-semibold\"\r\n                     onClick={() => addSubcategory()}\r\n                  >\r\n                     Add\r\n                  </button>\r\n               </div>\r\n               <div>\r\n                  {productCategoryNewReducer.length > 0 && (\r\n                     <ul className=\"bg-white border mt-1 p-2 dark:bg-gray-800\">\r\n                        {productCategoryNewReducer.map((el, i) => (\r\n                           <li\r\n                              key={`${i}_newSubCat`}\r\n                              className=\"py-1 border-b last:border-b-0 hover:bg-teal-50 dark:hover:bg-teal-700 flex justify-between items-center\"\r\n                           >\r\n                              <span className=\"text-lg font-semibold\">\r\n                                 {el.subcategory_name}\r\n                              </span>\r\n                              <MdDeleteForever\r\n                                 size={30}\r\n                                 color=\"red\"\r\n                                 className=\"cursor-pointer\"\r\n                                 onClick={() => removeSubCat(i)}\r\n                              />\r\n                           </li>\r\n                        ))}\r\n                     </ul>\r\n                  )}\r\n               </div>\r\n               <div className=\"mt-2\">\r\n                  <button\r\n                     className=\"bg-[#abd60e] rounded-md me-1 font-semibold px-3 py-2\"\r\n                     onClick={() => uploadCategory()}\r\n                  >\r\n                     Upload\r\n                  </button>\r\n                  <button\r\n                     className=\"bg-[#ed0d0d] rounded-md ms-1 font-semibold px-3 py-2\"\r\n                     onClick={() => cancelHandler()}\r\n                  >\r\n                     Cancel\r\n                  </button>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Category;\r\n"],"names":["_ref","productCategoryNewReducer","productCategoryDDindexReducer","_useState","useState","_useState2","_slicedToArray","catData","setCatData","dispatch","useDispatch","_useState3","_useState4","catTitle","setCatTitle","_useState5","flag","_id","_useState6","isEditing","setEditing","_useState7","_useState8","subCat","setSubCat","getAllCategory","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","console","log","spinnerOverlayOnFn","getAllCategoryApi","then","res","data","catch","err","spinnerOverlayOffFn","stop","apply","arguments","uploadCategory","_ref3","_callee2","_context2","category_name","subCategory","length","updateCategoryApi","productCategoryDDindex","productCategoryNewSubCatClear","alert","AddCategoryApi","useEffect","_jsxs","className","children","_jsx","name","id","onChange","e","idx","target","selectedIndex","value","map","el","i","concat","onClick","productCategoryNewSubCatClearAllAddArr","sub_category","subcategory_name","type","placeholder","productCategoryNewSubCatAdd","MdDeleteForever","size","color","index","productCategoryNewSubCatRemove"],"sourceRoot":""}