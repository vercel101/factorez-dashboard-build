"use strict";(self.webpackChunkfactorez_dashboard=self.webpackChunkfactorez_dashboard||[]).push([[309],{7402:function(e,t,a){a.r(t);var r=a(4165),n=a(5861),l=a(9439),o=a(2791),s=a(9434),c=a(4262),d=a(6856),i=a(4873),u=a(184);t.default=function(e){var t=e.productCategoryNewReducer,a=e.productCategoryDDindexReducer,b=(0,o.useState)([]),g=(0,l.Z)(b,2),f=g[0],x=g[1],h=(0,s.I0)(),m=(0,o.useState)(""),p=(0,l.Z)(m,2),y=p[0],j=p[1],k=(0,o.useState)({flag:!1,_id:""}),v=(0,l.Z)(k,2),w=v[0],N=v[1],C=(0,o.useState)(""),_=(0,l.Z)(C,2),S=_[0],Z=_[1],A=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get all category fired"),h((0,c.Q5)()),e.next=4,(0,i.pB)().then((function(e){console.log(e.data),x(e.data.data)})).catch((function(e){console.log(e)}));case 4:h((0,c.tV)());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),a={category_name:y,subCategory:t},!w.flag){e.next=10;break}if(""===y||0===t.length){e.next=8;break}return h((0,c.Q5)()),e.next=7,(0,i.rk)(w._id,a).then((function(e){console.log(e.data),h((0,c.jA)(null)),N({flag:!1,_id:""}),j(""),h((0,c.Hw)()),alert("Category Updated Successfully"),A()})).catch((function(e){console.log(e),alert("Some error occure!")}));case 7:h((0,c.tV)());case 8:e.next=15;break;case 10:if(""===y||0===t.length){e.next=15;break}return h((0,c.Q5)()),e.next=14,(0,i.EF)(a).then((function(e){console.log(e.data),h((0,c.jA)(null)),N({flag:!1,_id:""}),j(""),h((0,c.Hw)()),alert("Category Added Successfully"),A()})).catch((function(e){console.log(e),alert("Some error occure!")}));case 14:h((0,c.tV)());case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){A(),h((0,c.jA)(null)),N({flag:!1,_id:""}),j(""),h((0,c.Hw)())}),[]),(0,u.jsxs)("div",{className:"flex w-[80%] bg-gray-50 dark:bg-gray-800",children:[(0,u.jsxs)("div",{className:"flex-1 me-24 w-[50%]",children:[(0,u.jsx)("h1",{className:"text-gray-700 dark:text-white font-bold text-base",children:"Category"}),(0,u.jsx)("div",{className:"flex items-center",children:(0,u.jsxs)("select",{name:"",id:"",className:"outline-none border p-2 w-full bg-white dark:bg-teal-800",onChange:function(e){return t=e.target.selectedIndex,void h(t>0?(0,c.jA)(t-1):(0,c.jA)(null));var t},children:[(0,u.jsx)("option",{value:"",children:"Select Category"}),f.map((function(e,t){return(0,u.jsx)("option",{value:e.category_name,children:e.category_name},"".concat(e._id))}))]})}),(0,u.jsxs)("h1",{className:"text-gray-700 font-bold text-base mt-10 dark:text-white",children:["Sub Category"," ",null!==a&&(0,u.jsx)("button",{className:"bg-black dark:bg-[#abd60e]  rounded text-lg font-bold text-white px-2 ",onClick:function(){return e=f[a]._id,void(null!==a&&(N({flag:!0,_id:e}),j(f[a].category_name),h((0,c.dx)(f[a].sub_category))));var e},children:"Edit"})]}),null!==a&&(0,u.jsx)("ul",{className:"bg-white dark:bg-gray-800 border mt-1 p-2",children:f.length>0&&f[a].sub_category.map((function(e,t){return(0,u.jsx)("li",{className:"py-1 border-b last:border-b-0 hover:bg-teal-50 dark:hover:bg-teal-700 flex items-center",children:(0,u.jsx)("span",{className:"text-lg font-semibold",children:e.subcategory_name})},"".concat(e._id))}))})]}),(0,u.jsx)("div",{className:"flex-1 border-s ps-10",children:(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsxs)("h1",{className:"text-gray-700 mb-2 font-bold text-base dark:text-white",children:["Category title"," ",w.flag&&(0,u.jsx)("span",{className:"bg-teal-500 text-white px-2",children:"Edit Mode"})]}),(0,u.jsx)("input",{type:"text",className:"outline-none border p-2 w-full dark:bg-[#424242] dark:border-0",value:y,placeholder:"Category Title",onChange:function(e){return j(e.target.value)}}),(0,u.jsx)("hr",{className:"my-5 border-t-4 border-[#949494]"}),(0,u.jsx)("h1",{className:"text-gray-700 font-bold text-base dark:text-white mb-2",children:"Subcategory"}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{type:"text",className:"outline-none border p-2 w-full dark:bg-[#424242] dark:border-0",value:S,placeholder:"New Sub category",onChange:function(e){return Z(e.target.value)}}),(0,u.jsx)("button",{className:"border border-[#949494] p-2 bg-[#949494] dark:bg-[#5154ac] dark:border-0 text-white font-semibold",onClick:function(){""!==y&&""!==S?(h((0,c.d3)({subcategory_name:S})),Z("")):alert("Category Title and subcategory are required..")},children:"Add"})]}),(0,u.jsx)("div",{children:t.length>0&&(0,u.jsx)("ul",{className:"bg-white border mt-1 p-2 dark:bg-gray-800",children:t.map((function(e,t){return(0,u.jsxs)("li",{className:"py-1 border-b last:border-b-0 hover:bg-teal-50 dark:hover:bg-teal-700 flex justify-between items-center",children:[(0,u.jsx)("span",{className:"text-lg font-semibold",children:e.subcategory_name}),(0,u.jsx)(d.FH3,{size:30,color:"red",className:"cursor-pointer",onClick:function(){return e=t,void h((0,c.Pe)(e));var e}})]},"".concat(t,"_newSubCat"))}))})}),(0,u.jsxs)("div",{className:"mt-2",children:[(0,u.jsx)("button",{className:"bg-[#abd60e] rounded-md me-1 font-semibold px-3 py-2",onClick:function(){return H()},children:"Upload"}),(0,u.jsx)("button",{className:"bg-[#ed0d0d] rounded-md ms-1 font-semibold px-3 py-2",onClick:function(){return N({flag:!1,_id:""}),j(""),void h((0,c.Hw)())},children:"Cancel"})]})]})})]})}}}]);
//# sourceMappingURL=309.28410a78.chunk.js.map